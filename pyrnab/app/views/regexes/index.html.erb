<div data-ng-controller="RegexCtrl">
<script type="text/javascript">
<%
 regexHash = Hash.new()
 regexHash['regexes'] = @regexes
 %>
  var regexes = <%== regexHash.to_json %>
</script>
  <div class="container-fluid">
    <div class="row">

      <h1>Pynab Regexes</h1>

      <div>
        <label for="regexSearch">Input text to test against active regexes:</label>
        <input type="text" name="regexSearch" id="regexSearch" data-ng-model="search.regexTest" placeholder="[TOWN]-[....]" />
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>Active?</th>
            <th>Regex</th>
            <th>Description</th>
            <th>Ordinal</th>
            <th>Group name</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <tbody>
          <% @regexes.each do |regex| %>
            <tr data-contains-id="<%= regex.id %>" data-ng-hide="hideRegex['<%= regex.id %>'] === true">
              <td style="text-align: center;">
                <input type="checkbox" <%= regex.status == true ? 'CHECKED=CHECKED' : '' %> DISABLED=DISABLED />
              </td>
              <td><%= regex.regex %></td>
              <td><%= regex.description %></td>
              <td><%= regex.ordinal %></td>
              <td><%= regex.group_name %></td>
              <td><%= link_to 'Show', regex %></td>
              <td><%= link_to 'Edit', edit_regex_path(regex) %></td>
              <td><%= link_to 'Destroy', regex, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<br>

<%= link_to 'New Regex', new_regex_path %>
